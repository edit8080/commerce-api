# ☕ 커피 원두 이커머스 플랫폼

## 프로젝트 소개

이 프로젝트는 커피 원두 전문 온라인 쇼핑몰 시나리오에 기반한 더미 프로젝트입니다.
고객이 다양한 커피 원두를 탐색하고 구매할 수 있는 이커머스 플랫폼으로,
특히 **재고 관리**와 **선착순 쿠폰 발급**의 동시성 제어에 중점을 두고 설계되었습니다.

## 핵심 기능

### 1. 상품 카탈로그
- 인기 상품 조회 (최근 N일 기준 Top K)
- 상품 목록 조회 (페이지네이션, 필터링, 정렬)
- 상품 상세 정보 및 옵션별 가격/재고 조회

### 2. 쿠폰 시스템
- 발급 가능한 쿠폰 목록 조회
- **선착순 쿠폰 발급** (동시성 제어)
    - 정확한 수량 제어
    - 1인 1매 중복 방지
    - 유효성 검증 (유효기간, 최소 주문금액)
- 내가 발급받은 쿠폰 목록 조회

### 3. 재고 관리
- 실시간 재고 조회
- **하이브리드 락 기반 재고 관리**
    - Phase 1: 주문창 진입 시 재고 예약 (10분 타임아웃)
    - Phase 2: 결제 시 실제 재고 차감
- 결제 실패 시 자동 복구

### 4. 주문/결제
- 장바구니 관리
- 주문 생성 및 결제
- 쿠폰 할인 적용
- 잔액 기반 결제
- 트랜잭션 원자성 보장 (재고 차감 → 주문 생성 → 쿠폰 사용 → 잔액 차감)

## 기술 스택

- **Language**: Java 17+ / Kotlin
- **Framework**: Spring Boot 3.x
- **Cache**: Redis (선택적)

## 시작하기

### 사전 요구사항
- JDK 17 이상
- Kotlin 1.9 이상

## 프로젝트 구조

```
src/
├── main/
│   ├── kotlin/com/beanbliss/
│   │   ├── domain/
│   │   │   ├── product/
│   │   │   ├── coupon/
│   │   │   ├── order/
│   │   │   ├── inventory/
│   │   │   └── user/
│   │   └── common/
│   └── resources/
│       ├── application.properties
│  
└── test/
    └── kotlin/com/beanbliss/
```
